{% extends 'dashboard/base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-5 fw-bold mb-4">
                <i class="fas fa-chart-pie me-2"></i> Comprehensive Enrollment Dashboard
            </h1>
            <p class="lead">Interactive visualizations of enrollment patterns, seat availability, waitlists, and resource utilization across campuses.</p>
        </div>
    </div>

    <!-- Main Enrollment Visualization -->
    <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white">
            <h3 class="card-title mb-0">Student Enrollment by Subject and Section (Fall 2024)</h3>
        </div>
        <div class="card-body p-0">
            <div class='tableauPlaceholder' id='viz1742993102237' style='position: relative; width: 100%;'>
                <noscript>
                    <a href='#'>
                        <img alt='Student Enrollment by Subject and Section Fall 2024' 
                             src='https://public.tableau.com/static/images/OP/OPTIMALSCHEDULERANDENROLLMENTTRENDSVIZ/Dashboard2/1_rss.png' 
                             style='border: none; width: 100%;' />
                    </a>
                </noscript>
                <object class='tableauViz' style='display:none;'>
                    <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                    <param name='embed_code_version' value='3' />
                    <param name='site_root' value='' />
                    <param name='name' value='OPTIMALSCHEDULERANDENROLLMENTTRENDSVIZ/Dashboard2' />
                    <param name='tabs' value='no' />
                    <param name='toolbar' value='yes' />
                    <param name='static_image' value='https://public.tableau.com/static/images/OP/OPTIMALSCHEDULERANDENROLLMENTTRENDSVIZ/Dashboard2/1.png' />
                    <param name='animate_transition' value='yes' />
                    <param name='display_static_image' value='yes' />
                    <param name='display_spinner' value='yes' />
                    <param name='display_overlay' value='yes' />
                    <param name='display_count' value='yes' />
                    <param name='language' value='en-US' />
                </object>
            </div>
        </div>
        <div class="card-footer bg-light">
            <small>Detailed view of current enrollment across all subject areas and sections</small>
        </div>
    </div>

    <!-- First Row of Side-by-Side Visualizations -->
    <div class="row mb-4">
        <!-- Enrollment vs Seat Availability -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Enrollment vs Seat Availability by College</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742993692190' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Enrollment Vs Seat Availability by College' 
                                     src='https://public.tableau.com/static/images/en/enrollmentvsseatavailabilty/Sheet6/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='enrollmentvsseatavailabilty/Sheet6' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/en/enrollmentvsseatavailabilty/Sheet6/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>Compare current enrollment against available seats across different colleges</small>
                </div>
            </div>
        </div>

        <!-- Enrollment by Campus -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Enrollment by Campus and Student Level</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742993710495' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Enrollment by Campus and Student Level' 
                                     src='https://public.tableau.com/static/images/en/enrollmentbycampus/Sheet1/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='enrollmentbycampus/Sheet1' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/en/enrollmentbycampus/Sheet1/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>View enrollment distribution across campuses and student levels</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Row of Side-by-Side Visualizations -->
    <div class="row mb-4">
        <!-- Enrollment by Subject and Student Level -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Enrollment by Subject and Student Level</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742994057062' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Enrollment by Subject and Student Level' 
                                     src='https://public.tableau.com/static/images/en/enrollmentbysubjectandstudentlevel/Sheet2/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='enrollmentbysubjectandstudentlevel/Sheet2' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/en/enrollmentbysubjectandstudentlevel/Sheet2/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>Analyze enrollment patterns by subject area and student classification</small>
                </div>
            </div>
        </div>

        <!-- Actual vs Max Enrollment -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Actual vs Max Enrollment by Subject</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742994075436' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Comparison of Actual Vs Max Enrollment by Subject' 
                                     src='https://public.tableau.com/static/images/co/comparisonofactualenrollmentvsmaximumenrollmentbysubject/Sheet4/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='comparisonofactualenrollmentvsmaximumenrollmentbysubject/Sheet4' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/co/comparisonofactualenrollmentvsmaximumenrollmentbysubject/Sheet4/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>Compare current enrollment against maximum capacity by subject area</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Third Row of Side-by-Side Visualizations -->
    <div class="row mb-5">
        <!-- Waitlist by Section & Subject -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Waitlist by Section & Subject</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742994091541' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Waitlist By Section & Subject' 
                                     src='https://public.tableau.com/static/images/Wa/Waitlistbysectionandsubject/Sheet5/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='Waitlistbysectionandsubject/Sheet5' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/Wa/Waitlistbysectionandsubject/Sheet5/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>View waitlist numbers by specific course sections and subjects</small>
                </div>
            </div>
        </div>

        <!-- Waitlist by Major -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Waitlist by Major</h3>
                </div>
                <div class="card-body p-0">
                    <div class='tableauPlaceholder' id='viz1742994106988' style='position: relative; width: 100%;'>
                        <noscript>
                            <a href='#'>
                                <img alt='Wait List By Major' 
                                     src='https://public.tableau.com/static/images/wa/waitlistbymajor/Sheet3/1_rss.png' 
                                     style='border: none; width: 100%;' />
                            </a>
                        </noscript>
                        <object class='tableauViz' style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                            <param name='embed_code_version' value='3' />
                            <param name='site_root' value='' />
                            <param name='name' value='waitlistbymajor/Sheet3' />
                            <param name='tabs' value='no' />
                            <param name='toolbar' value='yes' />
                            <param name='static_image' value='https://public.tableau.com/static/images/wa/waitlistbymajor/Sheet3/1.png' />
                            <param name='animate_transition' value='yes' />
                            <param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' />
                            <param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' />
                            <param name='language' value='en-US' />
                        </object>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <small>Analyze waitlist trends by student major/program</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Information Section -->
    <div class="row mt-2">
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-info text-white">
                    <h4 class="card-title mb-0">Key Insights</h4>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h5><i class="fas fa-book me-2"></i>Enrollment Analysis</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>College of Art and Performing Arts has the most number of available seats</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Schaumburg Campus: Undergraduate has 8,876 enrollments, and Graduate level has 6,473 enrollments</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Psychology, Theatre Arts, and Biology have the most enrollments</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>FIT and SPED subjects have the least enrollments</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>For Psychology, Theatre Arts, and other subjects, actual enrollments exceed maximum enrollments</li>
                        </ul>
                    </div>
                    <div class="mb-3">
                        <h5><i class="fas fa-clipboard-list me-2"></i>Waitlist Management</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>SOC 98A has the highest waitlist at 73%, followed by HIST 98 at 21%, and OLED at 5%</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Criminal Justice and Psychology majors have the most waitlisted students at 29 and 16 respectively</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Nutrition, Exercise, and Health majors are the third most waitlisted at 9</li>
                        </ul>
                    </div>
                    <div>
                        <h5><i class="fas fa-building me-2"></i>Resource Utilization</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Compare enrollment patterns across locations</li>
                            <li><span class="fa-li"><i class="fas fa-check-circle"></i></span>Analyze space utilization efficiency</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h4 class="card-title mb-0">How to Use These Dashboards</h4>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h5><i class="fas fa-sliders-h me-2"></i>Interactive Features</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-filter"></i></span>Use filters to focus on specific criteria</li>
                            <li><span class="fa-li"><i class="fas fa-mouse-pointer"></i></span>Hover for detailed tooltip information</li>
                            <li><span class="fa-li"><i class="fas fa-sort"></i></span>Click headers to sort data tables</li>
                        </ul>
                    </div>
                    <div class="mb-3">
                        <h5><i class="fas fa-download me-2"></i>Data Export</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-image"></i></span>Download visualizations as images</li>
                            <li><span class="fa-li"><i class="fas fa-file-csv"></i></span>Export underlying data for further analysis</li>
                        </ul>
                    </div>
                    <div>
                        <h5><i class="fas fa-expand me-2"></i>Viewing Options</h5>
                        <ul class="fa-ul">
                            <li><span class="fa-li"><i class="fas fa-expand-arrows-alt"></i></span>Use fullscreen mode for detailed viewing</li>
                            <li><span class="fa-li"><i class="fas fa-mobile-alt"></i></span>Dashboards are responsive for mobile devices</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>    
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize all visualizations
        var vizConfigurations = [
            { id: 'viz1742993102237', height: function(width) { 
                return width > 800 ? '854px' : width > 500 ? '854px' : '1627px'; 
            }},
            { id: 'viz1742993692190', height: function(width) { return (width * 0.75) + 'px'; }},
            { id: 'viz1742993710495', height: function(width) { return (width * 0.75) + 'px'; }},
            { id: 'viz1742994057062', height: function(width) { return (width * 0.75) + 'px'; }},
            { id: 'viz1742994075436', height: function(width) { return (width * 0.75) + 'px'; }},
            { id: 'viz1742994091541', height: function(width) { return (width * 0.75) + 'px'; }},
            { id: 'viz1742994106988', height: function(width) { return (width * 0.75) + 'px'; }}
        ];

        vizConfigurations.forEach(function(config) {
            var div = document.getElementById(config.id);
            if (div) {
                var viz = div.getElementsByTagName('object')[0];
                viz.style.width = '100%';
                viz.style.height = config.height(div.offsetWidth);
                var script = document.createElement('script');
                script.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
                viz.parentNode.insertBefore(script, viz);
            }
        });
    });
</script>
{% endblock %}